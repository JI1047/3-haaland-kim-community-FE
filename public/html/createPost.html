<html>
<head>
  <meta charset="UTF-8">
  <title>ì‹œëŒë²…ì  ë†€ì´í„°</title>

  <script>
    const guard = async () => {
      const result = await fetch("/api/jwt/validate", { credentials: "include" });
      const data = await result.json();

      if (!data.login) {
        // í˜ì´ì§€ê°€ ëœ¨ê¸° ì „ì— ë°”ë¡œ ì´ë™ì‹œí‚¤ê¸°
        window.location.href = "/login";
      }
    };

    guard();
  </script>

  
  <!-- í˜ì´ì§€ ë ˆì´ì•„ì›ƒ CSS  -->
  <link rel="stylesheet" href="/css/createPost.css">

  <!-- í† ìŠ¤íŠ¸ UI -->
  <link rel="stylesheet" href="/common/toast.css">
  <script type="module" src="/common/toast.js"></script>

  <!-- ê³µí†µ ì„¤ì • -->
  <script src="/env.js"></script>
  <script type="module" src="/javascript/createPost.js"></script>

  <!-- í—¤ë” -->
  <link rel="stylesheet" href="/css/header.css">
  <script type="module" src="/common/header.js"></script>

</head>
  <body>
    <div id="toast-container"></div>

    <div id="header"></div>
    <hr class="divider">

  <div class="input-box ">
    <h2 class = "title">ì œëª© </h2>
    <input id="title" type="text" placeholder="ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”"></input> 
    <p id="titleError" class="errorMessage"></p> 
  </div>

  <div class="input-box">
    <h2 class >ë‚´ìš©</h2>

    <textarea id ="text" type="text" placeholder="ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”"></textarea> 
  </div>
   <div class="input-box">
    <h2 class="title">ì´ë¯¸ì§€</h2>
    <button class="submit"> ì´ë¯¸ì§€ ë“±ë¡ </button>

    <!-- ğŸ”¥ ì—…ë¡œë“œí•œ ì´ë¯¸ì§€ ì •ë³´ í‘œì‹œ ì˜ì—­ -->
    <div id="imagePreviewBox" style="margin-top:10px; display:none;">
        <img id="previewImage" style="width:150px; border-radius:10px; display:block;">
        <p id="previewFileName" style="color:#555; margin-top:5px;"></p>
    </div>
</div>


  <br>
  
  <div class="input-box">
    <button id="createPostButton" > ê²Œì‹œë¬¼ ìƒì„± </button>
  </div>


  
    


  </body>
  
</html>
    

