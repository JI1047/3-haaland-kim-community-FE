# 3-haaland-kim-community-FE

# ğŸ‰ **ì‹œëŒë²…ì  ì»¤ë®¤ë‹ˆí‹° FE (Frontend)**

Spring Boot ê¸°ë°˜ ë°±ì—”ë“œì™€ ì—°ë™ë˜ëŠ” **ì»¤ë®¤ë‹ˆí‹° ì›¹ í”„ë¡ íŠ¸ì—”ë“œ í”„ë¡œì íŠ¸**ì…ë‹ˆë‹¤.

JavaScript ê¸°ë°˜ì˜ SPA ìŠ¤íƒ€ì¼ êµ¬ì¡°ë¡œ ì„¤ê³„ë˜ì—ˆìœ¼ë©°, **JWT ì¸ì¦/ì¸ê°€**, **ëŒ“ê¸€ ë¬´í•œìŠ¤í¬ë¡¤**,

**AWS Lambda + S3 ì´ë¯¸ì§€ ì—…ë¡œë“œ**, **ì „ì—­ ì´ë²¤íŠ¸ ìœ„ì„**, **ë™ì  í—¤ë”**, **í† ìŠ¤íŠ¸ ì•Œë¦¼ ì‹œìŠ¤í…œ** ë“±ì´ êµ¬í˜„ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

---

## ğŸ“Œ **ê¸°ìˆ  ìŠ¤íƒ (Tech Stack)**

### **Frontend**

- Vanilla JavaScript (ES6+)
- HTML5 / CSS3
- SweetAlert2 (ëª¨ë‹¬)
- Custom Toast UI
- Fetch API

---

## ğŸ“ **í”„ë¡œì íŠ¸ êµ¬ì¡° (Directory Structure)**

```
src/
 â”œâ”€â”€ common/
 â”‚    â”œâ”€â”€ jwt.js           # JWT ê²€ì¦, ìë™ ì¬ë°œê¸‰, ë¡œê·¸ì•„ì›ƒ
 â”‚    â”œâ”€â”€ toast.js         # í† ìŠ¤íŠ¸ ì•Œë¦¼ ê³µí†µ ëª¨ë“ˆ
 â”‚    â”œâ”€â”€ header.html      # ìƒë‹¨ ë„¤ë¹„ê²Œì´ì…˜
 â”‚    â””â”€â”€ header.css
 â”‚
 â”œâ”€â”€ posts/
 â”‚    â”œâ”€â”€ postList.js      # ê²Œì‹œê¸€ ëª©ë¡ + ë¬´í•œìŠ¤í¬ë¡¤
 â”‚    â”œâ”€â”€ postDetail.js    # ê²Œì‹œê¸€ ìƒì„¸ ì¡°íšŒ / ì¢‹ì•„ìš” / ì‚­ì œ
 â”‚    â”œâ”€â”€ createPost.js    # ê²Œì‹œê¸€ ì‘ì„± (ì´ë¯¸ì§€ ì—…ë¡œë“œ í¬í•¨)
 â”‚    â”œâ”€â”€ updatePost.js    # ê²Œì‹œê¸€ ìˆ˜ì •
 â”‚    â”œâ”€â”€ commentRender.js # ëŒ“ê¸€ ë Œë”ë§ + ë¬´í•œìŠ¤í¬ë¡¤
 â”‚    â””â”€â”€ commentEvent.js  # ëŒ“ê¸€ CRUD ì´ë²¤íŠ¸ ìœ„ì„
 â”‚
 â”œâ”€â”€ users/
 â”‚    â”œâ”€â”€ signup.js        # íšŒì›ê°€ì… + ìœ íš¨ì„± ê²€ì¦ + ì´ë¯¸ì§€ ì—…ë¡œë“œ
 â”‚    â”œâ”€â”€ login.js         # ë¡œê·¸ì¸ ìš”ì²­ ì²˜ë¦¬
 â”‚    â”œâ”€â”€ profile.js       # íšŒì›ì •ë³´ ì¡°íšŒ/ìˆ˜ì •
 â”‚    â””â”€â”€ deleteUser.js    # íšŒì› íƒˆí‡´
 â”‚
 â”œâ”€â”€ utils/
 â”‚    â””â”€â”€ imageUploader.js # S3 Presigned URL ì—…ë¡œë“œ ëª¨ë“ˆ
 â”‚
 â””â”€â”€ css/
      â”œâ”€â”€ post.css
      â”œâ”€â”€ user.css
      â””â”€â”€ comment.css

```

---

# ğŸš€ **í•µì‹¬ ê¸°ëŠ¥ (Features)**

---

## ğŸ” **1. JWT ê¸°ë°˜ ì¸ì¦ / ë³´ì•ˆ**

### âœ” ìë™ ë¡œê·¸ì¸ ìœ ì§€

í˜ì´ì§€ ë¡œë“œ ì‹œ `/api/jwt/validate` ìš”ì²­

â†’ Access Token ë§Œë£Œ ì‹œ Refresh Tokenìœ¼ë¡œ ìë™ ë³µêµ¬

### âœ” ë³´í˜¸ëœ í˜ì´ì§€ Guard

```jsx
await jwtGuard("/login");

```

â†’ JWT ì—†ìœ¼ë©´ ìë™ìœ¼ë¡œ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ Redirect

### âœ” ë¡œê·¸ì•„ì›ƒ

PUT `/api/users/log-out` ìš”ì²­ í›„ ì¿ í‚¤ ë§Œë£Œ ì²˜ë¦¬.

---

## ğŸ“ **2. ê²Œì‹œê¸€ ê¸°ëŠ¥**

### âœ” ê²Œì‹œê¸€ ëª©ë¡ + ë¬´í•œ ìŠ¤í¬ë¡¤

- IntersectionObserver ì‚¬ìš©
- í˜ì´ì§€ ë ë„ë‹¬ ì‹œ ìë™ fetch
- í•œ ë²ˆ ë¡œë”© ì¤‘ì¼ ë•Œ ì¤‘ë³µ í˜¸ì¶œ ë°©ì§€

### âœ” ê²Œì‹œê¸€ ìƒì„¸ ì¡°íšŒ

- ì¢‹ì•„ìš” ì—¬ë¶€ í‘œì‹œ
- ì¡°íšŒìˆ˜Â·ëŒ“ê¸€ìˆ˜Â·ì¢‹ì•„ìš” ì‹¤ì‹œê°„ ë°˜ì˜
- ì‘ì„±ìë§Œ ìˆ˜ì •/ì‚­ì œ ë²„íŠ¼ í‘œì‹œ

### âœ” ê²Œì‹œê¸€ ì‘ì„± / ìˆ˜ì •

- AWS Lambda ì—…ë¡œë“œ â†’ S3 ìë™ ì €ì¥
- ì—…ë¡œë“œ URLì„ ì¿ í‚¤(`postImageUrl`)ë¡œ ê´€ë¦¬
- ì œëª© 26ì ì œí•œ ê²€ì¦
- ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸° ê¸°ëŠ¥

---

## ğŸ’¬ **3. ëŒ“ê¸€ ê¸°ëŠ¥**

### âœ” ë¬´í•œ ìŠ¤í¬ë¡¤ ê¸°ë°˜ ëŒ“ê¸€ ë¡œë“œ

- page/size ê¸°ë°˜ í˜ì´ì§•
- `isCommentLast` í”Œë˜ê·¸ë¡œ ë§ˆì§€ë§‰ í˜ì´ì§€ ì²´í¬
- ì˜¤ë¥˜ ì‹œ toast ë…¸ì¶œ

### âœ” ëŒ“ê¸€ ì´ë²¤íŠ¸ ìœ„ì„

DOMì— ë°˜ë³µí•´ì„œ ì´ë²¤íŠ¸ë¥¼ ì•ˆ ë¶™ì´ê¸° ìœ„í•´ **ì „ì—­ ìœ„ì„ ë°©ì‹** ì‚¬ìš©

- ìˆ˜ì •
- ì‚­ì œ
- ì‘ì„±

### âœ” ìˆ˜ì • ì‹œ Swal ëª¨ë‹¬ ì‚¬ìš©

- ì…ë ¥ ê²€ì¦
- API ì‘ë‹µ ìƒíƒœì— ë”°ë¼ toast ì‚¬ìš©

---

## ğŸ‘¤ **4. ì‚¬ìš©ì ê¸°ëŠ¥**

### âœ” íšŒì›ê°€ì…

- ì´ë©”ì¼ í˜•ì‹ ê²€ì¦
- ë¹„ë°€ë²ˆí˜¸ ê·œì¹™(ëŒ€ë¬¸ì/ì†Œë¬¸ì/ìˆ«ì/íŠ¹ìˆ˜ë¬¸ì ê° 1ê°œ í•„ìˆ˜)
- AWS Lambda í†µí•œ í”„ë¡œí•„ ì´ë¯¸ì§€ ì—…ë¡œë“œ
- Backend Validation ì—ëŸ¬ í•„ë“œ ìš°ì„ ìˆœìœ„ ì²˜ë¦¬

### âœ” ë¡œê·¸ì¸

- JWT ì¿ í‚¤ ê¸°ë°˜ ë¡œê·¸ì¸
- ì‹¤íŒ¨ ì‹œ toast í‘œì‹œ

### âœ” ë§ˆì´í˜ì´ì§€

- í”„ë¡œí•„ ì´ë¯¸ì§€ í‘œì‹œ
- ë‹‰ë„¤ì„ ë³€ê²½
- ë¹„ë°€ë²ˆí˜¸ ë³€ê²½
- íšŒì› íƒˆí‡´ ëª¨ë‹¬ í™•ì¸ í›„ DELETE ìš”ì²­ ì²˜ë¦¬

---

## ğŸ“¸ **5. ì´ë¯¸ì§€ ì—…ë¡œë“œ (AWS Lambda + S3)**

### FEì—ì„œ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹

1. íŒŒì¼ ì„ íƒ â†’ preview
2. Lambdaì— FormData ì „ì†¡
3. Lambda â†’ S3 ì €ì¥ í›„ public URL ë°˜í™˜
4. FEê°€ URLì„ ì¿ í‚¤ì— ì €ì¥
5. ê²Œì‹œê¸€/í”„ë¡œí•„ ìˆ˜ì • ì‹œ ì¿ í‚¤ ê°’ ì‚¬ìš©

### ê³µí†µ ì—…ë¡œë“œ ëª¨ë“ˆ (`setupImageUploader`)

```jsx
setupImageUploader({
  previewSelector: ".profile-img",
  inputSelector: "#fileInput",
  onUploaded: (url) => console.log(url)
});

```

---

## ğŸŒ **6. í—¤ë” ê³µí†µ ëª¨ë“ˆ**

- header.html ë™ì  ë¡œë“œ
- CSS ì¤‘ë³µ ë¡œë”© ë°©ì§€
- ë¡œê·¸ì¸ ìƒíƒœ ë”°ë¼ ë²„íŠ¼(ë¡œê·¸ì¸/íšŒì›ê°€ì…/ë¡œê·¸ì•„ì›ƒ) ìˆ¨ê¹€ ì²˜ë¦¬
- í”„ë¡œí•„ ì´ë¯¸ì§€ í´ë¦­ ì‹œ `/getUser` ì´ë™

---

## ğŸ”” **7. Toast ì•Œë¦¼ ì‹œìŠ¤í…œ**

ì „ì—­ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ì‹¤ë¬´í˜• toast ë©”ì‹œì§€:

- ì„±ê³µ ì‹œ ì´ˆë¡ìƒ‰
- ì‹¤íŒ¨/ì—ëŸ¬ ë¹¨ê°„ìƒ‰
- ê²½ê³  ë…¸ë€ìƒ‰

ì‚¬ìš© ì˜ˆì‹œ:

```jsx
showToast("ğŸš¨ ì„œë²„ ì˜¤ë¥˜ ë°œìƒ!", "error");

```

---

# ğŸ§ª **API ì—°ë™ ë°©ì‹**

í”„ë¡œì íŠ¸ ì „ë°˜ì— ê±¸ì³ ì‚¬ìš©í•˜ëŠ” fetch íŒ¨í„´:

```jsx
const res = await fetch(`${window.BACKEND_URL}/api/...`, {
  method: "POST",
  headers: { "Content-Type": "application/json" },
  credentials: "include",
  body: JSON.stringify(payload)
});

```

### ê³µí†µ íŠ¹ì§•

- `credentials: "include"`ë¡œ JWT ì¿ í‚¤ ìë™ ì „ì†¡
- ì‘ë‹µ JSON ì‹¤íŒ¨ ì‹œë¥¼ ëŒ€ë¹„í•œ `.catch(() => null)` ì²˜ë¦¬
- status ê¸°ë°˜ ë¶„ê¸°(401 â†’ ë¡œê·¸ì¸ í•„ìš”)

---

